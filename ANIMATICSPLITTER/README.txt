
--------------- ANIMATIC SPLITTER -------------------
----------- Moondog Animation Studio ----------------
------------ Created by: Erin Terre -----------------
--------- Last Update: 06 - 17 - 2016 ---------------

This script automatically splits a full animatic video based on an episodes epName_cutdata.xml
It will be triggered by the Animatic AMI Script which creates the epName_cutdata.xml

As long as the project has an already built epName_cutdata.xml AND the project, episode and animatic name has been updated in ConfigGeneral.xml 
the script can be run by itself by running the following command in the command prompt:
		"C:\Program Files\Adobe\Adobe After Effects CC 2015\Support Files\AfterFX.exe" -r W:\DEV\PIPELINE\AFXSCRIPTS\ANIMATICSPLITTER\AnimaticSplitter.jsx

SETUP:  
	> In AfterFX
		>> Load Render Presets (Located in lib\RenderSettings.ars)
		>> Load Output Module (Located in lib\OutputModules.aom)
		>> Check the option in Edit > Preferences > General > Allow Scripts to write files and access Network
	> In Shotgun
		>> Set Client Name if there is one (Located in project info) 
			**THIS VARIABLE WILL MAKE THE SCRIPTS LOOK FOR THE PROJECT FOLDER INSIDE THE CLIENTS FOLDER ON THE SHARE DRIVE**
		>> Set Share Drive Path (Located in project info)
		>> Set Episode Duration
		>> Set Cut in, Cut out and Cut Duration for each shot
		>> Set Animatic Name for each episode
		>> Set Shot Recut or Sequence Recut for each episode if you do not have to cut all shots from the video

TYPICAL USAGE: 
	> Mark Episodes Status to 'Animatic'
	> Click 'Run the Animatic Splitter' button (Located under 'More' in the Episodes page)

USAGE W/O SHOTGUN:
	> Change project, episode and animatic value in ConfigGeneral
	> Write epName_cutdata.xml for Project
	> Run command: "C:\Program Files\Adobe\Adobe After Effects CC 2015\Support Files\AfterFX.exe" -r W:\DEV\PIPELINE\AFXSCRIPTS\ANIMATICSPLITTER\AnimaticSplitter.jsx

Required Files: 
	> ConfigGeneral.xml - studio globals that lists all AFX module names, share drive name and project, episode and animatic name
	> splitlog.log - logs the scripts process and any errors encountered. Look here if the script does not run correctly
	> FunctionsLibrary.jsxinc - functions that are used by the script
	> AnimaticSplitter.jsx - the main script
	> epName_cutdata.xml - episode specfic file created by the Animatic AMI Script
	> AnimaticAMIScript.py - script triggered in shotgun to create epName_cutdata.xml, run AnimaticSplitter.jsx and update shotgun

Requirements: 
	> After Effects CC 2015
	> Windows Operating System
	> Path to ConfigGeneral.xml set correctly in both scripts
		>> AnimaticSplitter.jsx - LINE 19 - VARIABLE: pathToConfigXml
		>> AnimaticAMIScript.py - LINE 43 - VARIABLE: configPath
	>> All project paths set correctly
	>> All episode paths set correctly
	>> Share drive variable set in project info

Required Paths Generated by Script : (* This name change based on xml) 
	> AnimaticSplitter.jsx 
		>> animaticFolder - W:\*PROJECTNAME*\05_PROD\EPISODES\*EP003_TEST*\02_ANIMATIC\
		>> animaticXML - W:\*PROJECTNAME*\05_PROD\EPISODES\*EP003_TEST*\02_ANIMATIC\*EPISODENAMESPLIT*_cutdata.xml
		>> animaticMOV - W:\*PROJECTNAME*\05_PROD\EPISODES\*EP003_TEST*\02_ANIMATIC\*ANIMATICNAMEFROMXML*
		>> outputFolderPath - W:\*PROJECTNAME*\05_PROD\EPISODES\*EP003_TEST*\02_ANIMATIC\*v##*\
		>> outputFilePath - W:\PROJECTNAME\05_PROD\EPISODES\EP003_TEST\02_ANIMATIC\v##\*EPISODENAMESPLIT*_*SQNAME*_*SHNAME*_ATK_v*VERSION*.mov

Required File Names Generated by Script : (* This name change based on xml)
	> AnimaticSplitter.jsx
		>> outputFileName - *EPISODENAMESPLIT*_*SQNAME*_*SHNAME*_ATK_v*VERSION*.mov

TROUBLESHOOTING:
	> Check the splitlog.log file for any errors in AnimaticAMIScript.py
	> Run script without shotgun to see any errors in AnimaticSplitter.jsx
	> Confirm Render Settings and Output Modules have been loaded
	> Confirm ConfigGeneral.xml and epName_cutdata.xml are in the correct locations
	> Confirm epName_cutdata.xml have shots
	> Confirm Windows Registry has been set correctly
	> Confirm Shotgun Script Name, Server and Key is accurate in CompositingAMIScript.py

REPORTED BUGS:
	> When running on the share drive some cut clips may not read correctly. I believe this is a server issue. No errors are logged in AFX or Script logs. 